---
title: "æ ‘è“æ´¾ 3B å®‰è£… Archlinux Arm"
categories: ç¬”è®°
tags: [archlinux, rasp]
---

## å‡†å¤‡
- SD å¡
- ä¸€å°å®‰è£…å¥½ linux çš„ç”µè„‘
- ä¸€å°æ ‘è“æ´¾ 3B

## å®‰è£…

### åˆ†åŒº

é¦–å…ˆå§ SD å¡æ’åˆ°ç”µè„‘ï¼Œå°†å…¶æ ¼å¼åŒ–ä¸ºä¸€ä¸ª `256M boot` åˆ†åŒºå’Œä¸€ä¸ª `root` åˆ†åŒº

ä½¿ç”¨è¯¥å‘½ä»¤è¿›è¡Œåˆ†åŒºï¼Œ`sdX` æ¢æˆå¯¹åº”çš„ SD å¡ã€‚

```bash
fdisk /dev/sdX
```
1. è¾“å…¥ `o` åˆ é™¤æ‰€æœ‰åˆ†åŒº
2. è¾“å…¥ `p` åˆ—å‡ºæ‰€æœ‰åˆ†åŒºï¼Œæ­¤æ—¶åº”è¯¥ä¸ºç©º
3. è¾“å…¥ `n` åˆ›å»ºä¸€ä¸ªåˆ†åŒºï¼Œ`p` è¡¨ç¤ºä¸»åˆ†åŒºï¼Œ`1` è¡¨ç¤ºåˆ†åŒºå·ï¼Œ`Enter` ä½¿ç”¨é»˜è®¤èµ·å§‹æ‰‡åŒºï¼Œ`+256M` è¡¨ç¤ºå¤§å°
4. è¾“å…¥ `t` è®¾ç½®åˆ†åŒºç±»å‹ï¼Œ`c` è¡¨ç¤º W95 FAT32 (LBA)
5. è¾“å…¥ `n` åˆ›å»ºä¸€ä¸ªåˆ†åŒºï¼Œ`p` è¡¨ç¤ºä¸»åˆ†åŒºï¼Œ`2` è¡¨ç¤ºåˆ†åŒºå·ï¼Œ`Enter` ä½¿ç”¨é»˜è®¤èµ·å§‹æ‰‡åŒºï¼Œ`Enter` ä½¿ç”¨é»˜è®¤ç»“æŸæ‰‡åŒº(å³æ‰€æœ‰å‰©ä½™ç©ºé—´)
6. è¾“å…¥ `p` åˆ—å‡ºæ‰€æœ‰åˆ†åŒºï¼Œæ­¤æ—¶åº”è¯¥æœ‰ä¸¤ä¸ªåˆ†åŒº
7. è¾“å…¥ `w` å†™å…¥åˆ†åŒºè¡¨å¹¶é€€å‡º[^1][^3]

### æ–‡ä»¶ç³»ç»Ÿ

æŠŠç¬¬ä¸€ä¸ªåˆ†åŒºæ ¼å¼åŒ–ä¸º FAT æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶æŒ‚è½½åˆ° boot ç›®å½•
```bash
mkfs.vfat /dev/sdX1
mkdir boot
mount /dev/sdX1 boot
```

æŠŠç¬¬äºŒä¸ªåˆ†åŒºæ ¼å¼åŒ–ä¸º ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶æŒ‚è½½åˆ° root ç›®å½•

```bash
mkfs.ext4 /dev/sdX2
mkdir root
mount /dev/sdX2 root
```

> æ³¨æ„ï¼Œæˆ‘ä¸ç¡®å®šè¿™æ˜¯æˆ‘è‡ªå·±çš„é—®é¢˜è¿˜æ˜¯ä¸€ä¸ªå†æ­£å¸¸ä¸è¿‡çš„æƒ…å†µã€‚æˆ‘åœ¨ä½¿ç”¨ `fdisk` åˆ†åŒºå®Œæˆåï¼Œæ‰§è¡Œåç»­å†™å…¥ç³»ç»Ÿçš„å‘½ä»¤æ—¶ï¼Œä¼šé‡åˆ°ä¸€ä¸ª SD å¡å ç”¨çš„é”™è¯¯ï¼ŒæŠ¥é”™æç¤ºå’Œæƒé™æœ‰å…³ã€‚åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šä¹Ÿæ²¡æœ‰åŠæ³•è§£å†³ï¼Œæœ€åæ˜¯æŠŠ SD å¡åˆ†åŒºè¿™äº›å¼„å¥½åï¼Œç›´æ¥å–æ¶ˆæŒ‚è½½(`fdisk` ä¸Šä¸æ˜¾ç¤º)ï¼Œä½†æ˜¯è¿˜æ˜¯æŒ‰ç…§ `/dev/sdX` æ‰§è¡Œå‘½ä»¤æ‰å†™å…¥æˆåŠŸï¼ˆè¿™ä¸ªå°±å¾ˆè«åå…¶å¦™ï¼‰ã€‚è¿™ä¹Ÿæ˜¯å†™è¿™ç¯‡åšå®¢çš„ä¸»è¦åŸå› ï¼Œæ¯•ç«Ÿç½‘ä¸Šä¼˜ç§€çš„æ•™ç¨‹ä¸€å¤§æŠŠã€‚

### å†™å…¥ç³»ç»Ÿ

ä¸‹è½½ç³»ç»Ÿé•œåƒï¼Œå¹¶è§£å‹åˆ° SDå¡ã€‚

```bash
wget http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-armv7-latest.tar.gz
bsdtar -xpf ArchLinuxARM-rpi-armv7-latest.tar.gz -C root
sync
```

> æœ€åçš„ `sync` æ˜¯åŒæ­¥å‘½ä»¤ï¼Œä¸ºäº†ç¡®ä¿æ‰€æœ‰æ•°æ®å†™å…¥ SD å¡ã€‚

é•œåƒåœ°å€å¯ä»¥æ¢æˆå›½å†…çš„é•œåƒæº:

|é•œåƒæº|åœ°å€|
|---|---|
|æ¸…åæº|https://mirrors.tuna.tsinghua.edu.cn/archlinuxarm/os/ArchLinuxARM-rpi-armv7-latest.tar.gz|
|ç§‘å¤§æº|https://mirrors.ustc.edu.cn/archlinuxarm/os/ArchLinuxARM-rpi-armv7-latest.tar.gz|

> æ ‘è“æ´¾ 3B+ å¾€åçš„å»ºè®®ç”¨ aarch64

å†™å…¥ boot åˆ†åŒºï¼Œå¹¶å–æ¶ˆæŒ‚è½½

```bash
mv root/boot/* boot

umount boot root
```

## é…ç½®[^2]

æ’å…¥SD å¡ã€ç”µæºï¼Œå¯åŠ¨æ ‘è“æ´¾ã€‚å»ºè®®æ’ä¸ªç½‘çº¿ SSH ç™»å½•

|ç”¨æˆ·|è´¦æˆ·|å¯†ç |
|--|--|--|
|root|root|root|
|user|alarm|alarm|

### ä¿®æ”¹å¯†ç 

ä¿®æ”¹ root å¯†ç 

```bash
passwd
```

æ·»åŠ ç”¨æˆ·
```bash
useradd -m {username}
passwd {password}
```

# ENDING

> 2025 æ–°å¹´å¿«ä¹ğŸ‡

[^1]:[Arch Linux ARM: Raspberry Pi 3](https://archlinuxarm.org/platforms/armv8/broadcom/raspberry-pi-3)
[^2]:[åœ¨æ ‘è“æ´¾3 ä¸­å®‰è£… Arch Linux](https://immwind.com/raspberry-pi-install-arch-linux/)
[^3]:[æ ‘è“æ´¾å®‰è£…Arch Linux æ•™ç¨‹ï¼ˆä¸€ï¼‰å®‰è£…Arch](https://qsctech-sange.github.io/arch-on-Raspberrypi.html#%E6%89%80%E9%9C%80%E5%B7%A5%E5%85%B7)